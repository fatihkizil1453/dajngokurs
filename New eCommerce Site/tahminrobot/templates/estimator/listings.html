{% extends 'base.html' %}
{% block title %}Property Listings - RealEstate Pro{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="bg-light py-4">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <h1 class="fw-bold text-dark mb-2">Property Listings</h1>
        <p class="text-muted mb-0">Discover your perfect home from our comprehensive collection</p>
      </div>
      <div class="col-md-6 text-end">
        <span class="badge bg-primary fs-6 px-3 py-2">{{ properties|length }} Properties Available</span>
      </div>
    </div>
  </div>
</section>

<!-- Filters and Search -->
<section class="py-4 border-bottom">
  <div class="container">
    <div class="row g-3 align-items-center">
      <div class="col-md-4">
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-search"></i></span>
          <input type="text" class="form-control" placeholder="Search properties...">
        </div>
      </div>
      <div class="col-md-2">
        <select class="form-select">
          <option>All Locations</option>
          <option>Kadıköy</option>
          <option>Beşiktaş</option>
          <option>Şişli</option>
          <option>Üsküdar</option>
        </select>
      </div>
      <div class="col-md-2">
        <select class="form-select">
          <option>All Types</option>
          <option>Apartment</option>
          <option>Villa</option>
          <option>Studio</option>
          <option>Penthouse</option>
        </select>
      </div>
      <div class="col-md-2">
        <select class="form-select">
          <option>Price Range</option>
          <option>Under ₺1M</option>
          <option>₺1M - ₺2M</option>
          <option>₺2M - ₺3M</option>
          <option>Over ₺3M</option>
        </select>
      </div>
      <div class="col-md-2">
        <button class="btn btn-primary w-100">Apply Filters</button>
      </div>
    </div>
  </div>
</section>

<!-- Property Listings -->
<section class="py-5">
  <div class="container">
    <div class="row g-4">
      {% for property in properties %}
      <div class="col-lg-4 col-md-6">
        <div class="card property-card h-100 shadow-sm border-0 overflow-hidden">
          <div class="position-relative">
            <img src="{{ property.image }}" class="card-img-top" alt="{{ property.title }}" style="height: 250px; object-fit: cover;">
            <div class="property-overlay">
              <button class="btn btn-light btn-sm me-2">
                <i class="fas fa-heart"></i>
              </button>
              <button class="btn btn-light btn-sm">
                <i class="fas fa-share"></i>
              </button>
            </div>
          </div>
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <h5 class="card-title fw-bold text-dark mb-1">{{ property.title }}</h5>
              <span class="badge bg-success">Available</span>
            </div>
            <p class="card-text text-muted small mb-3">
              <i class="fas fa-map-marker-alt me-1"></i>{{ property.location }}
            </p>
            <div class="row g-2 mb-3">
              <div class="col-6">
                <small class="text-muted d-block">Size</small>
                <span class="fw-semibold">{{ property.size }}m²</span>
              </div>
              <div class="col-6">
                <small class="text-muted d-block">Rooms</small>
                <span class="fw-semibold">{{ property.rooms }}</span>
              </div>
              <div class="col-6">
                <small class="text-muted d-block">Floor</small>
                <span class="fw-semibold">{{ property.floor }}</span>
              </div>
              <div class="col-6">
                <small class="text-muted d-block">Age</small>
                <span class="fw-semibold">{{ property.age }} years</span>
              </div>
            </div>
            <div class="mb-3">
              <small class="text-muted d-block mb-2">Features</small>
              <div class="d-flex flex-wrap gap-1">
                {% for feature in property.features %}
                <span class="badge bg-light text-dark">{{ feature }}</span>
                {% endfor %}
              </div>
            </div>
            <p class="card-text text-muted small mb-3">{{ property.description }}</p>
            <div class="d-flex justify-content-between align-items-center">
              <span class="h4 text-primary fw-bold mb-0">₺{{ property.formatted_price }}</span>
              <a href="#" class="btn btn-primary">View Details</a>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <!-- Pagination -->
    <nav aria-label="Property pagination" class="mt-5">
      <ul class="pagination justify-content-center">
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1">Previous</a>
        </li>
        <li class="page-item active"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item">
          <a class="page-link" href="#">Next</a>
        </li>
      </ul>
    </nav>
  </div>
</section>
{% endblock %}